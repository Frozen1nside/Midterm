<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie IMDB Rating Predictor</title>
    
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.15.0/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }
        .container { max-width: 1200px; margin: 0 auto; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .section { margin: 20px 0; padding: 20px; border: 1px solid #ddd; border-radius: 5px; }
        button { padding: 10px 20px; margin: 5px; background: #007cba; color: white; border: none; border-radius: 5px; cursor: pointer; }
        button:disabled { background: #ccc; }
        .progress { width: 100%; background: #f0f0f0; border-radius: 5px; margin: 10px 0; }
        .progress-bar { height: 20px; background: #007cba; border-radius: 5px; width: 0%; transition: width 0.3s; }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; margin: 10px 0; }
        .stat-card { background: #e8f4fd; padding: 10px; border-radius: 5px; text-align: center; }
        .prediction-form { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .form-group { margin: 10px 0; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        input, select { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; }
        .result { margin: 20px 0; padding: 15px; background: #e8f5e8; border-radius: 5px; font-size: 1.2em; }
        .chart-container { position: relative; height: 300px; margin: 20px 0; }
        .status { margin: 10px 0; padding: 10px; background: #f0f0f0; border-radius: 5px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸŽ¬ Movie IMDB Rating Predictor</h1>
        
        <div class="status" id="status">Ready to load data...</div>
        
        <div class="section">
            <h2>Data Overview</h2>
            <div class="stats-grid" id="statsGrid">
                <div class="stat-card">
                    <h3>Total Movies</h3>
                    <p id="totalMovies">-</p>
                </div>
                <div class="stat-card">
                    <h3>With Ratings</h3>
                    <p id="withRatings">-</p>
                </div>
                <div class="stat-card">
                    <h3>Avg Rating</h3>
                    <p id="avgRating">-</p>
                </div>
                <div class="stat-card">
                    <h3>Rating Range</h3>
                    <p id="ratingRange">-</p>
                </div>
            </div>
            <div class="chart-container">
                <canvas id="distributionChart"></canvas>
            </div>
        </div>

        <div class="section">
            <h2>Model Training</h2>
            <button onclick="app.loadAndProcessData()">Load & Process Movie Data</button>
            <button onclick="app.trainModel()" id="trainBtn" disabled>Train Prediction Model</button>
            
            <div class="progress">
                <div class="progress-bar" id="trainingProgress"></div>
            </div>
            
            <div id="trainingStats"></div>
            <div class="chart-container">
                <canvas id="trainingChart"></canvas>
            </div>
        </div>

        <div class="section">
            <h2>IMDB Rating Prediction</h2>
            <div class="prediction-form">
                <div class="form-group">
                    <label>Content Type:</label>
                    <select id="contentType">
                        <option value="Movie">Movie</option>
                        <option value="TV Series">TV Series</option>
                        <option value="Documentary">Documentary</option>
                        <option value="Stand-up Comedy">Stand-up Comedy</option>
                        <option value="Limited Series">Limited Series</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Primary Genre:</label>
                    <select id="primaryGenre">
                        <option value="Action">Action</option>
                        <option value="Drama">Drama</option>
                        <option value="Comedy">Comedy</option>
                        <option value="Sci-Fi">Sci-Fi</option>
                        <option value="Horror">Horror</option>
                        <option value="Thriller">Thriller</option>
                        <option value="Romance">Romance</option>
                        <option value="Adventure">Adventure</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Duration (minutes):</label>
                    <input type="number" id="duration" value="120" min="1" max="300">
                </div>

                <div class="form-group">
                    <label>Release Year:</label>
                    <input type="number" id="releaseYear" value="2020" min="1990" max="2024">
                </div>

                <div class="form-group">
                    <label>Production Budget ($):</label>
                    <input type="number" id="budget" value="5000000" step="100000">
                </div>

                <div class="form-group">
                    <label>Language:</label>
                    <select id="language">
                        <option value="English">English</option>
                        <option value="Spanish">Spanish</option>
                        <option value="French">French</option>
                        <option value="Japanese">Japanese</option>
                        <option value="Korean">Korean</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Country of Origin:</label>
                    <select id="country">
                        <option value="USA">USA</option>
                        <option value="UK">UK</option>
                        <option value="Canada">Canada</option>
                        <option value="Japan">Japan</option>
                        <option value="South Korea">South Korea</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Rating:</label>
                    <select id="rating">
                        <option value="PG">PG</option>
                        <option value="PG-13">PG-13</option>
                        <option value="R">R</option>
                        <option value="TV-MA">TV-MA</option>
                        <option value="TV-14">TV-14</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Netflix Original:</label>
                    <select id="isNetflixOriginal">
                        <option value="true">Yes</option>
                        <option value="false">No</option>
                    </select>
                </div>
            </div>

            <button onclick="app.predictRating()" id="predictBtn" disabled>Predict IMDB Rating</button>
            <div id="predictionResult" class="result"></div>
        </div>
    </div>

    <script src="data-loader.js"></script>
    <script src="gru.js"></script>
    <script src="app.js"></script>
</body>
</html>